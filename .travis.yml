---
sudo: false
language: python
matrix:
  include:
    - os: linux
      language: generic
      sudo: false
      env: TOXENV=py35-64-pyqt5
    #- os: linux
    #  dist: trusty
    #  language: generic
    #  sudo: true
    #  env: TOXENV=py35-64-pyqt5
    #- os: linux
    #  language: generic
    #  sudo: true
    #  env: TOXENV=py35-32-pyqt5
    - os: osx
      language: generic
      sudo: false
      env: TOXENV=py35-64-pyqt5
    #- os: linux
    #  sudo: false
    #  python: 3.5
    #  env: TOXENV=docs
addons:
  apt:
    packages:
      - pandoc
      - build-essential
      - curl
      - git
      - mercurial
      - python-setuptools
      - ruby
      - rubygems
      - make
      - libssl-dev
      - zlib1g-dev
      - libbz2-dev
      - libreadline-dev
      - libsqlite3-dev
      - libgdbm-dev
      - liblzma-dev
      - libncurses5-dev
      - libncursesw5-dev
      - wget
      - curl
      - llvm
      - xz-utils
before_install:
  - test $TRAVIS_OS_NAME = 'osx' && brew install bash && /usr/local/Cellar/bash/4.4/bin/bash
  - source ./.travis/env.sh
  - ./.travis/setup_packages.sh
  - ./.travis/gist.sh
  - ./.travis/qt.sh
  - ./.travis/pyenv.sh
  - ./.travis/doit.sh
install:
  - doit
script:
  - tox
